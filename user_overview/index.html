
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../developer_overview/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>User Guide - Skyway</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#user-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Skyway" class="md-header__button md-logo" aria-label="Skyway" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Skyway
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Skyway" class="md-nav__button md-logo" aria-label="Skyway" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Skyway
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gaining-access" class="md-nav__link">
    <span class="md-ellipsis">
      Gaining Access
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Running Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gaining-access" class="md-nav__link">
    <span class="md-ellipsis">
      Gaining Access
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Running Jobs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="user-guide">User Guide</h1>
<p>This documentation explains how regular users access to Skyway and submit jobs to use cloud services. Please refer to the <a href="https://cloud-skyway.rcc.uchicago.edu/">Skyway</a> home page for more information and news.</p>
<h2 id="gaining-access">Gaining Access</h2>
<p>You first need an active RCC User account (see <a href="https://rcc.uchicago.edu/accounts-allocations">accounts and allocations page</a>). Next, you should contact your PI or class instructors for access to Skyway. Alternatively, you can reach out to our Help Desk at <a href="mailto:help@rcc.uchicago.edu">help@rcc.uchicago.edu</a> for assistance.</p>
<h2 id="connecting">Connecting</h2>
<p>You need to log in to the HPC cluster.</p>
<div class="highlight"><pre><span></span><code>ssh -Y [cnetid]@midway3.rcc.uchicago.edu
</code></pre></div>
<p>For Midway3 users, </p>
<div class="highlight"><pre><span></span><code>  module use /project/rcc/shared/modulefiles
  module load skyway
</code></pre></div>
<h2 id="running-jobs">Running Jobs</h2>
<p>You submit jobs to cloud in a similar manner to what do on your HPC cluster. The difference is that you should specify different partitions and accounts corresponding to the cloud services you have access to. Additionally, the instance configuration should be specified via <code>--constraint</code>.</p>
<p>1) List all the node types available to an account
<div class="highlight"><pre><span></span><code>skyway_nodetypes --account=your-aws-account
skyway_nodetypes --account=your-gcp-account
</code></pre></div></p>
<p>To submit jobs to cloud, you must specify a type of virtual machine (VM) by the option <code>--constraint=[VM Type]</code>. The VM types currently supported through Skyway can be found in the table below. You can also get an up-to-date listing of the machine types by running command sinfo-node-types on a skyway login node.</p>
<table>
<thead>
<tr>
<th><div style="width:100px">VM Type</div></th>
<th>Configuration</th>
<th>Description</th>
<th>AWS EC2 Instance</th>
</tr>
</thead>
<tbody>
<tr>
<td>t1</td>
<td>1 core, 1GB RAM</td>
<td>for testing and building software</td>
<td>t2.micro</td>
</tr>
<tr>
<td>c1</td>
<td>1 core, 4B RAM</td>
<td>for serial jobs</td>
<td>c5.large</td>
</tr>
<tr>
<td>c8</td>
<td>8 cores, 32GB RAM</td>
<td>for medium sized multicore jobs</td>
<td>c5.4xlarge</td>
</tr>
<tr>
<td>c36</td>
<td>36 cores, 144GB RAM</td>
<td>for large memory jobs</td>
<td>c5.18xlarge</td>
</tr>
<tr>
<td>g1</td>
<td>4 cores, 61 GB RAM, 1x V100 GPU</td>
<td>for GPU jobs</td>
<td>p3.2xlarge</td>
</tr>
<tr>
<td>g4</td>
<td>16 cores, 244 GB RAM, 4x V100 GPU</td>
<td>for heavy GPU jobs</td>
<td>p3.8xlarge</td>
</tr>
<tr>
<td>g5</td>
<td>8 cores, 32 GB RAM, 1x A10G GPU</td>
<td>for heavy GPU jobs</td>
<td>p5.2xlarge</td>
</tr>
<tr>
<td>m24</td>
<td>24 cores, 384GB RAM</td>
<td>for large memory jobs</td>
<td>c5.12xlarge</td>
</tr>
</tbody>
</table>
<p>2) Allocate/provision an instance
  <div class="highlight"><pre><span></span><code>skyway_alloc --account=rcc-aws --constraint=t1 --time=01:00:00
</code></pre></div>
  For a GPU instance, use
  <div class="highlight"><pre><span></span><code>skyway_alloc -A rcc-aws --constraint=g5 --time=00:30:00
</code></pre></div></p>
<p>3) List all the running VMs with an account
  <div class="highlight"><pre><span></span><code>skyway_list --account=rcc-aws
</code></pre></div></p>
<p>4) Transfer data to the instance named your-run
  <div class="highlight"><pre><span></span><code>skyway_transfer --account=rcc-aws -J your-run training.py
</code></pre></div></p>
<p>5) Connect to the VM named your-run
  <div class="highlight"><pre><span></span><code>skyway_connect --account=rcc-aws your-run
</code></pre></div></p>
<p>Once on the VM, do
  <div class="highlight"><pre><span></span><code>nvidia-smi
source activate pytorch
python training.py &gt; ~/output.txt
scp output.txt [yourcnetid]@midway3.rcc.uchicago.edu:~/
exit
</code></pre></div>
At this point, there would be a file named output.txt in your Midway3 home folder.</p>
<p>6) Cancel/terminate/cancel a job
  <div class="highlight"><pre><span></span><code>skyway_cancel --account=rcc-aws [job_name]
</code></pre></div></p>
<p>Expected behavior: The jobs (VMs) got terminated. When run <code>skyway_list</code> (step 3 above) the VM will not be present.</p>
<p>The following steps are for launching interactive and batch jobs.</p>
<p>7) Submit an interactive job (combinig steps 4, 6 and 7)</p>
<p>7a) to AWS
  <div class="highlight"><pre><span></span><code>skyway_interative --account=rcc-aws --constraint=t1 --time=01:00:00
</code></pre></div>
  For a GPU instance, use
  <div class="highlight"><pre><span></span><code>skyway_interative --account=rcc-aws --constraint=g5 -t 00:30:00
</code></pre></div></p>
<p>7b) to midway3
  <div class="highlight"><pre><span></span><code>skyway_interactive --account=rcc-midway3 --constraint=t1 --time=01:00:00
</code></pre></div>
Expected behavior: the user lands on a compute node or a VM on a separate terminal.</p>
<p>8) Submit a batch job</p>
<p>A sample job script <code>job_script.sh</code> would look like this</p>
<div class="highlight"><pre><span></span><code>#!/bin/sh

#SBATCH --job-name=your-run
#SBATCH --account=rcc-aws
#SBATCH --constraint=g1

source activate pytorch
python training.py
</code></pre></div>
<p>8a) Submit the job
  <div class="highlight"><pre><span></span><code>skyway_batch job_script.sh
</code></pre></div>
  8b) Connect to the VM to check the current progress of the run (like step 7)
  <div class="highlight"><pre><span></span><code>skyway_connect -A rcc-aws -J your-run
</code></pre></div></p>
<p>Once on the VM:
  <div class="highlight"><pre><span></span><code>ls -lrt
cat output.txt
exit
</code></pre></div></p>
<p>8c) Transfer output data from cloud
  <div class="highlight"><pre><span></span><code>skyway_transfer --account=rcc-aws -J your-run --from-cloud --cloud-path=~/model*.pkl .
</code></pre></div></p>
<p>8d) Cancel the job (like step 6)</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>For further assistance, please contact our Help Desk at <a href="mailto:help@rcc.uchicago.edu">help@rcc.uchicago.edu</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>